<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Geist+Mono:wght@100..900&family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="file.css">

    <title>Document</title>
</head>
<body>
    <div class="body">
        <div class="navigation">
            <h1 class="navigation__header">T1 virtual</h1>
            <div class="naviagtion__block1">
                <a class="block1__text"><img src="./images/brick.png" alt="" class="block1__image">Конструктор<img src="./images/right-arrow.png" alt="" class="block1__image"></a>
                <a class="block1__text"><img src="./images/llm.png" alt="" class="block1__image">Выбор LLM<img src="./images/right-arrow.png" alt="" class="block1__image"></a>
                <a class="block1__text"><img src="./images/upload.png" alt="" class="block1__image">Загрузка<img src="./images/right-arrow.png" alt="" class="block1__image"></a>
            </div>
        </div>
        <div class="main">
            <div class="header">
                <div class="header__buttons">
                    <a href="#" class="header__button"><img src="./images/play.png" alt="" class="block1__image">Run</a>
                    <a href="#" class="header__button"><img src="./images/plus.png" alt="" class="block1__image">Добавить</a>
                </div>
            </div>
            <form id="fileUploadForm" action="" method="post" class="form">
                <label for="fileInput" class="file-label">
                    Выберите файл
                    <input 
                        type="file" 
                        id="fileInput" 
                        name="file" 
                        accept=".pdf,.txt,.docx,.doc,.csv,.xlsx,.xls,.json" 
                        required>
                </label>
                <p class="file-types">
                    Поддерживаемые типы: PDF, TXT, DOCX, DOC, CSV, XLSX, XLS, JSON
                </p>
                <button type="submit" class="submit-btn">Загрузить</button>
                <p id="message" class="message"></p>
            </form>
        </div>
    </div>
    <script>
    document.getElementById("fileInput").addEventListener("change", function() {
        const fileInput = document.getElementById("fileInput");
        const fileLabel = document.getElementById("fileLabel");
        const message = document.getElementById("message");
    
        if (fileInput.files.length > 0) {
            const file = fileInput.files[0];
            fileLabel.textContent = file.name; // Меняем текст на имя выбранного файла
    
            // Проводим проверку типа файла
            const allowedTypes = [
                "application/pdf",
                "text/plain",
                "application/vnd.openxmlformats-officedocument.wordprocessingml.document",
                "application/msword",
                "text/csv",
                "application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",
                "application/vnd.ms-excel",
                "application/json"
            ];
    
            if (!allowedTypes.includes(file.type)) {
                message.textContent = "Недопустимый тип файла.";
                fileLabel.textContent = "Выберите файл"; // Если тип не подходит, восстанавливаем текст
            } else {
                message.textContent = ""; // Очистка сообщений
            }
        }
    });
    </script>
</body>
</html>